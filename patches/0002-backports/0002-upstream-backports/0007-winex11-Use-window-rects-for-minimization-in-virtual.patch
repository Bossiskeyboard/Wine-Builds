From b35c3bb169062aa4e7ecf923d1bff3a1e0b72a80 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?R=C3=A9mi=20Bernon?= <rbernon@codeweavers.com>
Date: Fri, 31 Oct 2025 14:26:25 +0100
Subject: [PATCH 07/17] winex11: Use window rects for minimization in virtual
 desktop mode.

Wine-Bug: https://bugs.winehq.org/show_bug.cgi?id=58876
---
 dlls/winex11.drv/window.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/dlls/winex11.drv/window.c b/dlls/winex11.drv/window.c
index 179bbc8e671..c841b49044f 100644
--- a/dlls/winex11.drv/window.c
+++ b/dlls/winex11.drv/window.c
@@ -3207,7 +3207,7 @@ void X11DRV_WindowPosChanged( HWND hwnd, HWND insert_after, HWND owner_hint, UIN
 
     old_rects = data->rects;
     was_fullscreen = data->is_fullscreen;
-    if (!(new_style & WS_MINIMIZE)) data->rects = *new_rects;
+    if (!(new_style & WS_MINIMIZE) || is_virtual_desktop()) data->rects = *new_rects;
     data->is_fullscreen = fullscreen;
 
     TRACE( "win %p/%lx new_rects %s style %08x flags %08x\n", hwnd, data->whole_window,
-- 
2.51.2

